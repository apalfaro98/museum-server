"use strict";(self["webpackChunkcliente"]=self["webpackChunkcliente"]||[]).push([[878],{9321:function(e,t,i){i.d(t,{Z:function(){return O}});var a=i(7359),o=i(6190),d=i(4145),l=i(4886),s=i(266),r=i(9570),n=i(2118),c=i(1625),m=i(1713),I=i(7394),u=i(3687),h=i(7808),p=function(){var e=this,t=e._self._c;return t(d.Z,{attrs:{elevation:"0"}},[t(l.EB,[t("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),t(l.ZB,[t(n.Z,[t(I.Qn,[e.error?t(a.Z,{staticClass:"mb-6",attrs:{dense:"",text:"",outlined:"",type:"error"}},[e._v(" "+e._s(e.error)+" ")]):e._e()],1),t(m.Z,[t(s.Z,{attrs:{cols:"12",sm:"6"}},[t(h.Z,{staticClass:"mt-5",attrs:{label:"INST/PROPIETARIO",outlined:"",disabled:!e.isNew},model:{value:e.editedItem.propietario,callback:function(t){e.$set(e.editedItem,"propietario",t)},expression:"editedItem.propietario"}}),t(h.Z,{attrs:{label:"CODIGO",outlined:"",disabled:!e.isNew},model:{value:e.editedItem.codigo,callback:function(t){e.$set(e.editedItem,"codigo",t)},expression:"editedItem.codigo"}}),t(h.Z,{attrs:{label:"NO.INVENTARIO",outlined:"",disabled:!e.isNew},model:{value:e.editedItem.noInventario,callback:function(t){e.$set(e.editedItem,"noInventario",t)},expression:"editedItem.noInventario"}}),t(h.Z,{attrs:{label:"CANTIDAD",outlined:"",type:"number"},model:{value:e.editedItem.cantidad,callback:function(t){e.$set(e.editedItem,"cantidad",t)},expression:"editedItem.cantidad"}}),t(h.Z,{attrs:{label:"MANIFESTACIÓN",outlined:""},model:{value:e.editedItem.manifestacion,callback:function(t){e.$set(e.editedItem,"manifestacion",t)},expression:"editedItem.manifestacion"}}),t(h.Z,{attrs:{label:"CATEGORIA CLASIFICATORIA",outlined:""},model:{value:e.editedItem.categoria,callback:function(t){e.$set(e.editedItem,"categoria",t)},expression:"editedItem.categoria"}}),t(h.Z,{attrs:{label:"NOMBRE COMUN",outlined:""},model:{value:e.editedItem.comun,callback:function(t){e.$set(e.editedItem,"comun",t)},expression:"editedItem.comun"}}),t(h.Z,{attrs:{label:"NOMBRE TECNICO",outlined:""},model:{value:e.editedItem.tecnico,callback:function(t){e.$set(e.editedItem,"tecnico",t)},expression:"editedItem.tecnico"}}),t(h.Z,{attrs:{label:"LOC. DE COLECTA",outlined:""},model:{value:e.editedItem.locColecta,callback:function(t){e.$set(e.editedItem,"locColecta",t)},expression:"editedItem.locColecta"}}),t(h.Z,{attrs:{label:"PAIS",outlined:""},model:{value:e.editedItem.pais,callback:function(t){e.$set(e.editedItem,"pais",t)},expression:"editedItem.pais"}}),t(h.Z,{attrs:{label:"FECHA DE COLECTA",outlined:""},model:{value:e.editedItem.fechaColecta,callback:function(t){e.$set(e.editedItem,"fechaColecta",t)},expression:"editedItem.fechaColecta"}}),t(h.Z,{attrs:{label:"COLECTOR",outlined:""},model:{value:e.editedItem.colector,callback:function(t){e.$set(e.editedItem,"colector",t)},expression:"editedItem.colector"}}),t("span",[e._v("IDENTIFICADOR TECNICO:")]),t(h.Z,{attrs:{label:"FECHA",outlined:""},model:{value:e.editedItem.fecha,callback:function(t){e.$set(e.editedItem,"fecha",t)},expression:"editedItem.fecha"}}),t(h.Z,{attrs:{label:"LOTE",outlined:""},model:{value:e.editedItem.lote,callback:function(t){e.$set(e.editedItem,"lote",t)},expression:"editedItem.lote"}})],1),t(s.Z,{attrs:{cols:"12",sm:"6"}},[t("span",[e._v("ORIGINAL:")]),t(h.Z,{attrs:{label:"ALTO",outlined:""},model:{value:e.editedItem.alto,callback:function(t){e.$set(e.editedItem,"alto",t)},expression:"editedItem.alto"}}),t(h.Z,{attrs:{label:"ANCHO",outlined:""},model:{value:e.editedItem.ancho,callback:function(t){e.$set(e.editedItem,"ancho",t)},expression:"editedItem.ancho"}}),t(h.Z,{attrs:{label:"PROFUNDIDAD",outlined:""},model:{value:e.editedItem.profundidad,callback:function(t){e.$set(e.editedItem,"profundidad",t)},expression:"editedItem.profundidad"}}),t(c.Z,{attrs:{"show-size":"",label:"IMAGEN",accept:"image/png, image/jpeg, image/jpg",outlined:"","prepend-inner-icon":"mdi-camera","prepend-icon":"",disabled:!e.isNew},model:{value:e.image,callback:function(t){e.image=t},expression:"image"}}),t(h.Z,{attrs:{label:"UBICACIÓN",outlined:""},model:{value:e.editedItem.ubicacion,callback:function(t){e.$set(e.editedItem,"ubicacion",t)},expression:"editedItem.ubicacion"}}),t(r.Z,{staticClass:"mt-1",attrs:{items:e.estados,label:"ESTADO",outlined:""},model:{value:e.editedItem.estado,callback:function(t){e.$set(e.editedItem,"estado",t)},expression:"editedItem.estado"}}),t(h.Z,{attrs:{label:"VALOR",outlined:""},model:{value:e.editedItem.valor,callback:function(t){e.$set(e.editedItem,"valor",t)},expression:"editedItem.valor"}}),t(r.Z,{attrs:{items:e.grados,label:"GRADO DE VALOR",outlined:""},model:{value:e.editedItem.gradoDeValor,callback:function(t){e.$set(e.editedItem,"gradoDeValor",t)},expression:"editedItem.gradoDeValor"}}),t(h.Z,{attrs:{label:"PROCEDENCIA",outlined:""},model:{value:e.editedItem.procedencia,callback:function(t){e.$set(e.editedItem,"procedencia",t)},expression:"editedItem.procedencia"}}),t(h.Z,{attrs:{label:"REL. ACONTECIMIENTO",outlined:""},model:{value:e.editedItem.acontecimiento,callback:function(t){e.$set(e.editedItem,"acontecimiento",t)},expression:"editedItem.acontecimiento"}}),t(h.Z,{attrs:{label:"EXPEDIENTE",outlined:""},model:{value:e.editedItem.expediente,callback:function(t){e.$set(e.editedItem,"expediente",t)},expression:"editedItem.expediente"}})],1)],1)],1)],1),t(l.h7,[t(u.Z),t(o.Z,{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.$emit("close")}}},[e._v(" Cancel ")]),t(o.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v(" Save ")])],1)],1)},f=[],v=i(1696),b={data(){return{image:void 0,error:"",show:!1,estados:["B","R","M"],grados:["I","II","III"]}},props:{formTitle:String,editedItem:Object,isNew:Boolean},methods:{showErrors(e){400===e.response.status?this.error=e.response.data.errors[0].msg:401===e.response.status?this.error=e.response.data.error.msg:this.error="No se pudo establecer la conexión con el servidor."},save(){""!==this.editedItem.codigo?""!==this.editedItem.noInventario?""!==this.editedItem.cantidad?""!==this.editedItem.manifestacion?""!==this.editedItem.comun?""!==this.editedItem.locColecta?""!==this.editedItem.pais?""!==this.editedItem.fechaColecta?""!==this.editedItem.alto?""!==this.editedItem.ancho?""!==this.editedItem.profundidad?""!==this.editedItem.ubicacion?""!==this.editedItem.estado?""!==this.editedItem.gradoDeValor?""!==this.editedItem.procedencia?""!==this.editedItem.acontecimiento?""!==this.editedItem.expediente?this.isNew?v.Z.createNatural(this.editedItem,this.image).then((e=>{this.$emit("reload"),this.$emit("getId",e._id)})).catch(this.showErrors):v.Z.updateNatural(this.editedItem).then((()=>{this.$emit("reload")})).catch(this.showErrors):this.error="El Expediente es obligatorio.":this.error="El acontecimiento es obligatorio.":this.error="La procedencia es obligatoria.":this.error="El Grado de Valor es obligatorio.":this.error="El estado es obligatorio.":this.error="La ubicacion es obligatoria.":this.error="La profundidad es obligatoria.":this.error="El ancho es obligatorio.":this.error="El alto es obligatorio.":this.error="La fecha de colecta es obligatoria.":this.error="El país es obligatorio.":this.error="La localización de colecta es obligatoria.":this.error="El nombre común es obligatorio.":this.error="La manifestación es obligatoria.":this.error="La cantidad es obligatoria.":this.error="El numero de Inventario es obligatorio.":this.error="El codigo es obligatorio."}}},g=b,E=i(1001),C=(0,E.Z)(g,p,f,!1,null,null,null),O=C.exports},7068:function(e,t,i){i.d(t,{Z:function(){return p}});var a=i(266),o=i(2118),d=i(5495),l=i(1713),s=function(){var e=this,t=e._self._c;return t(o.Z,[t(l.Z,[t(a.Z,{attrs:{cols:"12",md:"6"}},[t(d.Z,{attrs:{src:`http://localhost:3000/images/${e.editedItem.imageUrl}`}})],1),t(a.Z,{attrs:{cols:"12",md:"6"}},[t("property-element",{attrs:{items:[{title:"INST/PROPIETARIO",value:e.editedItem.propietario},{title:"CODIGO",value:e.editedItem.codigo},{title:"NO.INVENTARIO",value:e.editedItem.noInventario}]}})],1)],1),t(l.Z,[t(a.Z,{attrs:{cols:"12",md:"6"}},[t("property-element",{attrs:{items:[{title:"CANTIDAD",value:e.editedItem.cantidad},{title:"REGISTRO DE ENTRADA",value:e.editedItem.registroEntrada},{title:"MANIFESTACIÓN",value:e.editedItem.manifestacion},{title:"CATEGORIA CLASIFICATORIA",value:e.editedItem.categoria},{title:"NOMBRE COMUN",value:e.editedItem.comun},{title:"NOMBRE TECNICO",value:e.editedItem.tecnico},{title:"LOC. DE COLECTA",value:e.editedItem.locColecta},{title:"PAIS",value:e.editedItem.pais},{title:"FECHA DE COLECTA",value:e.editedItem.fechaColecta},{title:"COLECTOR",value:e.editedItem.colector}]}}),t("list-element",{attrs:{title:"IDENTIFICADOR TECNICO",list:[{title:"FECHA",value:e.editedItem.fecha},{title:"LOTE",value:e.editedItem.lote}]}})],1),t(a.Z,{attrs:{cols:"12",md:"6"}},[t("list-element",{attrs:{title:"ORIGINAL",list:[{title:"ALTO",value:e.editedItem.alto},{title:"ANCHO",value:e.editedItem.ancho},{title:"PROFUNDIDAD",value:e.editedItem.profundidad}]}}),t("property-element",{attrs:{items:[{title:"UBICACIÓN",value:e.editedItem.ubicacion},{title:"ESTADO",value:e.editedItem.estado},{title:"VALOR",value:e.editedItem.valor},{title:"GRADO DE VALOR",value:e.editedItem.gradoDeValor},{title:"PROCEDENCIA",value:e.editedItem.procedencia},{title:"REL. ACONTECIMIENTO",value:e.editedItem.acontecimiento},{title:"EXPEDIENTE",value:e.editedItem.expediente}]}}),t("property-element",{attrs:{items:[{title:"ENTREGADO POR",value:e.editedItem.entregadoPor}]}})],1)],1)],1)},r=[],n=i(8276),c=i(7130),m={props:{editedItem:Object},components:{PropertyElement:n.Z,ListElement:c.Z}},I=m,u=i(1001),h=(0,u.Z)(I,s,r,!1,null,null,null),p=h.exports},3792:function(e,t,i){i.r(t),i.d(t,{default:function(){return Z}});var a=i(7359),o=i(6190),d=i(4145),l=i(4886),s=i(5151),r=i(4061),n=i(9223),c=i(4324),m=i(7394),I=i(3687),u=i(6313),h=i(7953),p=function(){var e=this,t=e._self._c;return t("div",[t(m.xy,[e.success?t(a.Z,{staticClass:"alert",attrs:{prominent:"",shaped:"",type:"success","max-width":"300px",dismissible:""},on:{click:function(t){e.success=!1}}},[e._v("Artículo guardadado exitosamente.")]):e._e()],1),t(s.Z,{staticClass:"elevation-1 mt-2",attrs:{headers:e.headers,items:e.datos,"items-per-page":-1,"hide-default-footer":""},scopedSlots:e._u([{key:"top",fn:function(){return[t(u.Z,{attrs:{flat:""}},[t(h.qW,[t(c.Z,{staticClass:"mr-1"},[e._v("mdi-sprout")]),e._v(" Naturales ")],1),t(n.Z,{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t(I.Z),t(r.Z,{attrs:{"max-width":"1000"},model:{value:e.dialogInfo,callback:function(t){e.dialogInfo=t},expression:"dialogInfo"}},[t(d.Z,{staticClass:"pa-4"},[t(l.ZB,[t("natural-dialog",{attrs:{editedItem:e.infoItem}})],1),t(l.h7,[t(I.Z),t(o.Z,{attrs:{color:"red darken-1",text:""},on:{click:e.closeInfo}},[e._v(" Cerrar ")])],1)],1)],1),t(r.Z,{attrs:{"max-width":"1000"},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:a}){return[t(o.Z,e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(t){e.isNew=!0}}},"v-btn",a,!1),i),[e._v(" Registrar Artículo ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t("natural-create-edit",{attrs:{formTitle:e.formTitle,editedItem:e.editedItem,isNew:e.isNew},on:{close:e.close,reload:e.reload}})],1),t(r.Z,{attrs:{"max-width":"600px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[t(d.Z,[t(l.EB,{staticClass:"text-h5"},[e._v("¿Está seguro que desea eliminar este artículo?")]),t(l.h7,[t(I.Z),t(o.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancelar")]),t(o.Z,{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("Aceptar")]),t(I.Z)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function({item:i}){return[t("div",{staticClass:"d-flex justify-around"},[t(c.Z,{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.detailsItem(i)}}},[e._v(" mdi-information ")]),t(c.Z,{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(i)}}},[e._v(" mdi-pencil ")]),t(c.Z,{attrs:{small:""},on:{click:function(t){return e.deleteItem(i)}}},[e._v(" mdi-delete ")])],1)]}}])})],1)},f=[],v=i(1696),b=i(7068),g=i(9321),E={data:()=>({datos:[],dialog:!1,dialogInfo:!1,dialogDelete:!1,isNew:!0,success:!1,headers:[{text:"INST/PROPIETARIO",value:"propietario"},{text:"CODIGO",value:"codigo"},{text:"NO.INVENTARIO",value:"noInventario"},{text:"REGISTRO DE ENTRADA",value:"registroEntrada"},{text:"NOMBRE COMUN",value:"comun"},{text:"MANIFESTACIÓN",value:"manifestacion"},{text:"ESTADO",value:"estado"},{text:"GRADO DE VALOR",align:"center",value:"gradoDeValor"},{text:"DETALLES",value:"actions",sortable:!1,align:"center"}],editedIndex:-1,editedItem:{propietario:"",codigo:"",noInventario:"",cantidad:1,manifestacion:"",categoria:"",comun:"",tecnico:"",locColecta:"",pais:"",fechaColecta:"",colector:"",fecha:"",lote:"",alto:"",ancho:"",profundidad:"",ubicacion:"",estado:"",valor:"",gradoDeValor:"",procedencia:"",acontecimiento:"",expediente:"",prestado:!1,recibido:!1},infoItem:{},defaultItem:{propietario:"",codigo:"",noInventario:"",cantidad:1,manifestacion:"",categoria:"",comun:"",tecnico:"",locColecta:"",pais:"",fechaColecta:"",colector:"",fecha:"",lote:"",alto:"",ancho:"",profundidad:"",ubicacion:"",estado:"",valor:"",gradoDeValor:"",procedencia:"",acontecimiento:"",expediente:"",donacion:!1,prestado:!1,recibido:!1}}),components:{NaturalDialog:b.Z,NaturalCreateEdit:g.Z},computed:{formTitle(){return-1===this.editedIndex?"Registrar Artículo":"Editar Artículo"}},watch:{dialog(e){e||this.close()},dialogDelete(e){e||this.closeDelete()}},mounted(){this.requestData()},methods:{requestData(){v.Z.getNaturales().then((e=>{this.datos=e,this.datos.forEach((e=>{e.registroEntrada=e.registroEntrada.slice(0,10)}))})).catch((e=>console.log))},reload(){this.close(),this.success=!0,this.requestData()},detailsItem(e){this.success=!1,this.editedIndex=this.datos.indexOf(e),this.infoItem=Object.assign({},e),this.dialogInfo=!0},editItem(e){this.success=!1,this.isNew=!1,this.editedIndex=this.datos.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem(e){this.success=!1,this.editedIndex=this.datos.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm(){v.Z.deleteNatural(this.editedItem._id).then((e=>{console.log(e),this.closeDelete(),this.requestData()})).catch((e=>{console.log(e.response)}))},close(){this.dialog=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},closeInfo(){this.dialogInfo=!1,this.$nextTick((()=>{this.infoItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},closeDelete(){this.dialogDelete=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))}}},C=E,O=i(1001),x=(0,O.Z)(C,p,f,!1,null,"3a84dd80",null),Z=x.exports}}]);
//# sourceMappingURL=adminNaturales.9f578e2c.js.map